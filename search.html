<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Search engine</title>
</head>
<body>
<h1>Country search engine</h1>
<button id="search">Search a country</button>
<input id="country-name" type="text" />
<h2>List of countries</h2>
<ul id="countries">
  <li>No data</li>
</ul>


<script>
	var url = "https://restcountries.eu/rest/v1/name/";
	var countriesList = document.getElementById("countries");

	document.getElementById('search').addEventListener('click', searchCountries);

	function searchCountries() {
    var countryName = document.getElementById('country-name').value;
    if(!countryName.length) countryName = 'Poland';
    fetch(url + countryName)
        .then(function(resp) {
            return resp.json();
        })
        .then(showCountriesList);
	}
	function showCountriesList(resp) {
    countriesList.innerHTML = '';
    
    	resp.forEach(function(item){
   		var liEl = document.createElement('li');
    	liEl.innerText = item.name;
    	countriesList.appendChild(liEl);
	  	});
	}

</script>



</body>
</html>
